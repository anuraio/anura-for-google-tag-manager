___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1.5,
  "securityGroups": [],
  "displayName": "Anura Solutions, LLC",
  "brand": {
    "id": "github.com_anuraio",
    "displayName": "anuraio",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Anura for Google Tag Manager is an Ad Fraud solution designed to accurately eliminate fraudulent users and improve conversion rates.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "instanceID",
    "displayName": "Instance ID",
    "simpleValueType": true,
    "help": "Your assigned Instance ID",
    "valueValidators": [
      {
        "type": "NUMBER"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "source",
    "displayName": "Source",
    "simpleValueType": true,
    "help": "Source and campaign parameters may not equal the following values: \"all sources\", \"all campaigns\", \"\u0026\", \"*\", \"?\", \"%\"",
    "canBeEmptyString": true
  },
  {
    "type": "TEXT",
    "name": "campaign",
    "displayName": "Campaign",
    "simpleValueType": true,
    "help": "Source and campaign parameters may not equal the following values: \"all sources\", \"all campaigns\", \"\u0026\", \"*\", \"?\", \"%\"",
    "canBeEmptyString": true
  },
  {
    "type": "TEXT",
    "name": "callback",
    "displayName": "Optional Callback Function",
    "simpleValueType": true,
    "help": "callback functions are allowed to start with: \"$\", \"_\", or \"a-z\" characters, followed by \"a-z\" and \"0-9\" characters.",
    "canBeEmptyString": true,
    "valueValidators": [
      {
        "type": "REGEX",
        "args": [
          "^$|^[_$a-zA-Z][_$a-zA-Z0-9]*$"
        ]
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "Fallback",
    "displayName": "Optional Fallback Source \u0026 Campaign",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "GROUP",
        "name": "Source Group",
        "displayName": "Fallback Sources",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "sourcefb1",
            "displayName": "Source Fallback 1",
            "simpleValueType": true,
            "help": "If the original source value is null - use this value instead"
          },
          {
            "type": "TEXT",
            "name": "sourcefb2",
            "displayName": "Source Fallback 2",
            "simpleValueType": true,
            "help": "If the first fallback is also null - use this value instead"
          }
        ]
      },
      {
        "type": "GROUP",
        "name": "Campaign Group",
        "displayName": "Fallback Campaigns",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "TEXT",
            "name": "campaignfb1",
            "displayName": "Campaign Fallback 1",
            "simpleValueType": true,
            "help": "If the original campaign is null - use this value instead"
          },
          {
            "type": "TEXT",
            "name": "campaignfb2",
            "displayName": "Campaign Fallback 2",
            "simpleValueType": true,
            "help": "If the first fallback is also null - use this value instead"
          }
        ]
      }
    ],
    "help": "If your initial campaign value is null - attempt the fallback(s) below"
  },
  {
    "type": "GROUP",
    "name": "Additional",
    "displayName": "Additional Data",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "TEXT",
        "name": "AD1",
        "displayName": "Additional Data #1",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "AD2",
        "displayName": "Additional Data #2",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "AD3",
        "displayName": "Additional Data #3",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "AD4",
        "displayName": "Additional Data #4",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "AD5",
        "displayName": "Additional Data #5",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "AD6",
        "displayName": "Additional Data #6",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "AD7",
        "displayName": "Additional Data #7",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "AD8",
        "displayName": "Additional Data #8",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "AD9",
        "displayName": "Additional Data #9",
        "simpleValueType": true
      },
      {
        "type": "TEXT",
        "name": "AD10",
        "displayName": "Additional Data #10",
        "simpleValueType": true
      }
    ],
    "help": "Data provided by an Anura client that is to be associated with an individual request."
  },
  {
    "type": "GROUP",
    "name": "actions",
    "displayName": "Real-Time Actions - BETA",
    "groupStyle": "ZIPPY_CLOSED",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "realtime_enabled",
        "checkboxText": "Enable Real-Time",
        "simpleValueType": true
      },
      {
        "type": "LABEL",
        "name": "label1",
        "displayName": "*Full Response \u003cem\u003eMust\u003c/em\u003e be enabled to use Real-Time Actions in this template. \nThe Anura GTM Real-Time Functions must also be present",
        "enablingConditions": [
          {
            "paramName": "realtime_enabled",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "GROUP",
        "name": "ActionOnBadWarn",
        "displayName": "Perform Action On:",
        "groupStyle": "ZIPPY_OPEN",
        "subParams": [
          {
            "type": "CHECKBOX",
            "name": "AOWarn",
            "checkboxText": "Warning",
            "simpleValueType": true
          },
          {
            "type": "CHECKBOX",
            "name": "AOBad",
            "checkboxText": "Bad",
            "simpleValueType": true
          }
        ]
      },
      {
        "type": "GROUP",
        "name": "actionsToPerform",
        "displayName": "Actions",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "CHECKBOX",
            "name": "disable_form_action",
            "checkboxText": "Disable Form Action",
            "simpleValueType": true,
            "help": "Applies to all forms found on page"
          },
          {
            "type": "CHECKBOX",
            "name": "disable_submit_buttons",
            "checkboxText": "Disable Submit Buttons",
            "simpleValueType": true,
            "help": "Applies to all submit buttons found on page"
          },
          {
            "type": "CHECKBOX",
            "name": "disable_links",
            "checkboxText": "Disable Links",
            "simpleValueType": true,
            "help": "Applies to all links found on page"
          },
          {
            "type": "CHECKBOX",
            "name": "append_hidden_variable_checkbox",
            "checkboxText": "Pass Result to Hidden Field",
            "simpleValueType": true,
            "help": "Populates any form that contains the specified ID/Name. Runs on Good/Warn/Bad to ensure the response is always passed to the form"
          },
          {
            "type": "TEXT",
            "name": "append_hidden_variable",
            "displayName": "Variable Name",
            "simpleValueType": true,
            "enablingConditions": [
              {
                "paramName": "append_hidden_variable_checkbox",
                "paramValue": true,
                "type": "EQUALS"
              }
            ]
          },
          {
            "type": "GROUP",
            "name": "advanced",
            "displayName": "(Advanced) Looping Settings",
            "groupStyle": "ZIPPY_CLOSED",
            "subParams": [
              {
                "type": "RADIO",
                "name": "retrycount",
                "displayName": "Retry Method",
                "radioItems": [
                  {
                    "value": 20,
                    "displayValue": "Retry for 4 Seconds"
                  },
                  {
                    "value": 150,
                    "displayValue": "Retry for 30 Seconds"
                  },
                  {
                    "value": 600,
                    "displayValue": "Retry for 2 min"
                  }
                ],
                "simpleValueType": true,
                "help": "Forms and buttons can get added after the initial page load. Retries are performed every 200ms to attempt active protection on content loaded after initial load."
              },
              {
                "type": "RADIO",
                "name": "stopafterfirst",
                "displayName": "Stop After First Found Element",
                "radioItems": [
                  {
                    "value": "continue",
                    "displayValue": "Repeat for configured retry time"
                  },
                  {
                    "value": "stop",
                    "displayValue": "Stop After First find"
                  }
                ],
                "simpleValueType": true,
                "help": "You can choose to stop after the first detected \u0026 protected element is found, or continue in the event that more elements to be protected are added after the first."
              }
            ]
          }
        ]
      },
      {
        "type": "GROUP",
        "name": "SSProtect",
        "displayName": "Search and Social Protect - Exclusion Audiences",
        "groupStyle": "NO_ZIPPY",
        "subParams": [
          {
            "type": "GROUP",
            "name": "GAds",
            "displayName": "Google Ads Exclusion Audience",
            "groupStyle": "ZIPPY_OPEN_ON_PARAM",
            "subParams": [
              {
                "type": "CHECKBOX",
                "name": "gads_enable",
                "checkboxText": "Enable Adding to Exclusion Audience",
                "simpleValueType": true,
                "help": "Check out the Anura Dashboard or Contact Support for Instructions"
              },
              {
                "type": "TEXT",
                "name": "gads_tagid",
                "displayName": "Exclusion Audience Tag ID",
                "simpleValueType": true,
                "help": "Example: AW-12345/abcxyz"
              }
            ]
          },
          {
            "type": "GROUP",
            "name": "MSAds",
            "displayName": "Microsoft Ads Exclusion Audience",
            "groupStyle": "ZIPPY_OPEN_ON_PARAM",
            "subParams": [
              {
                "type": "CHECKBOX",
                "name": "MSads_enable",
                "checkboxText": "Enable Adding to Exclusion Audience",
                "simpleValueType": true,
                "help": "Check out the Anura Dashboard or Contact Support for Instructions"
              },
              {
                "type": "TEXT",
                "name": "MSads_tagid",
                "displayName": "Exclusion Audience Tag ID",
                "simpleValueType": true,
                "help": "Example: 19515249"
              },
              {
                "type": "TEXT",
                "name": "MSads_eventcode",
                "displayName": "Custom Event Code",
                "simpleValueType": true,
                "help": "an_exaud_12345abcxyz"
              }
            ]
          },
          {
            "type": "GROUP",
            "name": "MetaAds",
            "displayName": "Meta Business Exclusion Audience",
            "groupStyle": "ZIPPY_OPEN_ON_PARAM",
            "subParams": [
              {
                "type": "CHECKBOX",
                "name": "metaads_enable",
                "checkboxText": "Enable Adding to Exclusion Audience",
                "simpleValueType": true,
                "help": "Check out the Anura Dashboard or Contact Support for Instructions"
              },
              {
                "type": "TEXT",
                "name": "metaads_pixelid",
                "displayName": "Exclusion Audience Pixel ID",
                "simpleValueType": true,
                "help": "Example: 195152490228060"
              },
              {
                "type": "TEXT",
                "name": "metaads_eventcode",
                "displayName": "Custom Event Code",
                "simpleValueType": true,
                "help": "Example: an_exaud_12345abcxyz"
              }
            ]
          },
          {
            "type": "GROUP",
            "name": "XAds",
            "displayName": "X (Twitter) Business Exclusion Audience",
            "groupStyle": "ZIPPY_OPEN_ON_PARAM",
            "subParams": [
              {
                "type": "CHECKBOX",
                "name": "Xads_enable",
                "checkboxText": "Enable Adding to Exclusion Audience",
                "simpleValueType": true,
                "help": "Check out the Anura Dashboard or Contact Support for Instructions"
              },
              {
                "type": "TEXT",
                "name": "Xads_tagid",
                "displayName": "Exclusion Audience Tag ID",
                "simpleValueType": true,
                "help": "Example: 19515249"
              },
              {
                "type": "TEXT",
                "name": "Xads_eventcode",
                "displayName": "Custom Event Code",
                "simpleValueType": true,
                "help": "an_exaud_12345abcxyz"
              }
            ]
          },
          {
            "type": "GROUP",
            "name": "LinkedInAds",
            "displayName": "LinkedIn Business Exclusion Audience",
            "groupStyle": "ZIPPY_OPEN_ON_PARAM",
            "subParams": [
              {
                "type": "CHECKBOX",
                "name": "liads_enable",
                "checkboxText": "Enable Adding to Exclusion Audience",
                "simpleValueType": true,
                "help": "Check out the Anura Dashboard or Contact Support for Instructions"
              },
              {
                "type": "TEXT",
                "name": "liads_partnerid",
                "displayName": "Exclusion Audience Partner ID",
                "simpleValueType": true,
                "help": "Example: 19515249"
              },
              {
                "type": "TEXT",
                "name": "liads_eventcode",
                "displayName": "Custom Event Code",
                "simpleValueType": true,
                "help": "an_exaud_12345abcxyz"
              }
            ]
          },
          {
            "type": "GROUP",
            "name": "TTAds",
            "displayName": "TikTok Business Exclusion Audience",
            "groupStyle": "ZIPPY_OPEN_ON_PARAM",
            "subParams": [
              {
                "type": "CHECKBOX",
                "name": "ttads_enable",
                "checkboxText": "Enable Adding to Exclusion Audience",
                "simpleValueType": true,
                "help": "Check out the Anura Dashboard or Contact Support for Instructions"
              },
              {
                "type": "TEXT",
                "name": "ttads_pixelid",
                "displayName": "Exclusion Audience Pixel ID",
                "simpleValueType": true,
                "help": "Example: 19515249"
              },
              {
                "type": "TEXT",
                "name": "ttads_eventcode",
                "displayName": "Custom Event Code",
                "simpleValueType": true,
                "help": "an_exaud_12345abcxyz"
              }
            ]
          },
          {
            "type": "GROUP",
            "name": "TabAds",
            "displayName": "Taboola Exclusion Audience",
            "groupStyle": "ZIPPY_OPEN_ON_PARAM",
            "subParams": [
              {
                "type": "CHECKBOX",
                "name": "tabads_enable",
                "checkboxText": "Enable Adding to Exclusion Audience",
                "simpleValueType": true,
                "help": "Check out the Anura Dashboard or Contact Support for Instructions"
              },
              {
                "type": "TEXT",
                "name": "tabads_tagid",
                "displayName": "Taboola Account ID",
                "simpleValueType": true,
                "help": "Example: 19515249"
              }
            ]
          },
          {
            "type": "GROUP",
            "name": "OBAds",
            "displayName": "Outbrain Exclusion Audience",
            "groupStyle": "ZIPPY_OPEN_ON_PARAM",
            "subParams": [
              {
                "type": "CHECKBOX",
                "name": "obads_enable",
                "checkboxText": "Enable Adding to Exclusion Audience",
                "simpleValueType": true,
                "help": "Check out the Anura Dashboard or Contact Support for Instructions"
              },
              {
                "type": "TEXT",
                "name": "obads_tagid",
                "displayName": "Outbrain Advertiser ID",
                "simpleValueType": true,
                "help": "Example: 004e654328ead46bc9d54e2ec34b3ce7c4"
              }
            ]
          }
        ]
      }
    ],
    "help": "Real-Time fraud mitigation Options"
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const queryPermission = require('queryPermission');
const getReferrerUrl = require('getReferrerUrl');
const EUC = require('encodeUriComponent');
const Math = require('Math');
const generateRandom = require('generateRandom');
const fromBase64 = require('fromBase64');
const getUrl = require('getUrl');
const callInWindow = require('callInWindow');
const sendPixel = require('sendPixel');
const callLater = require('callLater');
const copyFromWindow = require('copyFromWindow');
const aliasInWindow = require('aliasInWindow');
const setInWindow = require('setInWindow');
const getTimestampMillis = require('getTimestampMillis');
const makeTableMap = require('makeTableMap');
const makeNumber = require('makeNumber');
const getType = require('getType');
const copyFromDataLayer = require('copyFromDataLayer');
const math = require('Math');
const createQueue = require('createQueue');
const parseUrl = require("parseUrl");
const Object = require("Object");
const injectHiddenIframe = require('injectHiddenIframe');

// Basic Variables
const instance_id = data.instanceID;
const source = data.source;
const sourcefb1 = data.sourcefb1;
const sourcefb2 = data.sourcefb2;
const campaign = data.campaign;
const campaignfb1 = data.campaignfb1;
const campaignfb2 = data.campaignfb2;
const callback = data.callback;

// Basic Variables
const ad1 = data.AD1;
const ad2 = data.AD2;
const ad3 = data.AD3;
const ad4 = data.AD4;
const ad5 = data.AD5;
const ad6 = data.AD6;
const ad7 = data.AD7;
const ad8 = data.AD8;
const ad9 = data.AD9;
const ad10 = data.AD10;

// REALTIME Variables
const realtime_enabled = data.realtime_enabled;
const action_on_warn = data.AOWarn;
const action_on_bad = data.AOBad;
const disable_form_action = data.disable_form_action;
const disable_links = data.disable_links;
const disable_submit_buttons = data.disable_submit_buttons;
const append_hidden_variable_checkbox = data.append_hidden_variable_checkbox;
const append_hidden_variable = data.append_hidden_variable;
var retry_count = data.retrycount;
var stop_after_first = data.stopafterfirst;

const logToConsole = require('logToConsole');
//logToConsole('realtime_enabled: ' + realtime_enabled);
//logToConsole('retry_count: ' + retry_count);
//logToConsole('stop_after_first: ' + stop_after_first);

if(retry_count == null) {
  retry_count = 20; 
}
if(stop_after_first == null) {
  stop_after_first = "continue"; 
}


// Search and Social Protect Variables
// Google Ads
const gads_enable = data.gads_enable;
const gads_tagid = data.gads_tagid;
// Microsoft Ads
const MSads_enable = data.MSads_enable;
const MSads_tagid = data.MSads_tagid;
const MSads_eventcode = data.MSads_eventcode;
// Meta Ads
const metaads_enable = data.metaads_enable;
const metaads_pixelid = data.metaads_pixelid;
const metaads_eventcode = data.metaads_eventcode;
// X (Twitter Ads)
const Xads_enable = data.Xads_enable;
const Xads_tagid = data.Xads_tagid;
const Xads_eventcode = data.Xads_eventcode;
// LinkedIn Ads
const liads_enable = data.liads_enable;
const liads_partnerid = data.liads_partnerid;
const liads_eventcode = data.liads_eventcode;
// Tiktok Ads
const ttads_enable = data.ttads_enable;
const ttads_pixelid = data.ttads_pixelid;
const ttads_eventcode = data.ttads_eventcode;
// Taboola Ads
const tabads_enable = data.tabads_enable;
const tabads_tagid = data.tabads_tagid;
// Outbrain Ads
const obads_enable = data.obads_enable;
const obads_tagid = data.obads_tagid;

var url = 'https://script.anura.io/request.js';

var rF = getReferrerUrl();
//var aU = navigator.userAgent;
var lC = getUrl('host');
var eR = frEnc('Vm0wd2QyUXlWa2hWV0doVlYwZDRWMVl3Wkc5V01WbDNXa2M1V0ZKc2JETlhhMUpUVmpBeFdHVkdXbFppVkZaeVdWZHplRll4WkhGUmJGWlhZbFV3ZUZadGVGWmxSbGw1VTJ0V1ZXSklRbGhXYlhoM1ZWWmtWMXBFVWxwV01VcEpWbTEwYTJGR1NuUlZiR2hWVmtWd2RscFdXbXRXTVdSelYyMTRVMkpXU2twV2JHUXdWakZhV0ZOcmJGSmlSMmhZV1d4b2IwMHhXbGRYYlhSWVVqRktTVnBGV2xOVWJGcDFVV3BXVjFJemFHaFhWbVJIVmpGT2RWUnNhR2hsYlhoWlYxZDRiMVV3TUhoV2JrcFlZbFZhV0ZsclpGTmxWbGw1WlVWT1YwMXJWak5aTUZwVFZqRmFWMk5HVG1GU1JWcEVWbGQ0UTFaVk1VVk5SREE5', 11);

function frEnc(y, p) {
  var b = y;
  for (var i = 0; i < p; i++) { b = fromBase64(b); }
  return b;
}

function gAdsExclusion(){
  
  injectScript("https://www.googletagmanager.com/gtag/js?id="+gads_tagid, gAds2, onFailure);
  
}
function gAds2() {
  var dataLayer = dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', getTimestampMillis());
  gtag('config', gads_tagid);
  gtag('set',  { 'cookie_flags': 'SameSite:None;Secure' });
  gtag('event', 'anura_exclusion', {'send_to': gads_tagid}); 
}

function process_realtime_action(result) {
  logToConsole("performing active mitigation now");
  if(disable_form_action) {
     callInWindow('anura_gtm_disableFormAction', retry_count, stop_after_first);
  }
  if(disable_links) {
     callInWindow('anura_gtm_disableLinks', retry_count, stop_after_first);
  }
  if(disable_submit_buttons) {
    callInWindow('anura_gtm_removeSubmitButtons', retry_count, stop_after_first);
  }
  if(gads_enable) {
    gAdsExclusion();
  }
  if(metaads_enable) {
    callInWindow('anura_gtm_metaExclusionAudience', metaads_pixelid, metaads_eventcode);
  }
  if(Xads_enable) {
    callInWindow('anura_gtm_XExclusionAudience', Xads_tagid, Xads_eventcode);
  }
  if(MSads_enable) {
    callInWindow('anura_gtm_microsoftAdsExclusionAudience', MSads_tagid, MSads_eventcode);
  }
  if(liads_enable) {
    callInWindow('anura_gtm_LinkedInExclusionAudience', liads_partnerid, liads_eventcode);
  }
  if(ttads_enable) {
    callInWindow('anura_gtm_TikTokExclusionAudience', ttads_pixelid, ttads_eventcode);
  }
  if(tabads_enable) {
    callInWindow('anura_gtm_TaboolaExclusionAudience', tabads_tagid);
  }
  if(obads_enable) {
    callInWindow('anura_gtm_OutBrainExclusionAudience', obads_tagid);
  }
}

function process_realtime_decision(result) {
    if(append_hidden_variable_checkbox) {
      callInWindow('anura_gtm_appendHiddenInput', result, append_hidden_variable, retry_count, stop_after_first);
    }
    if(action_on_warn && (result == "warn" || result == "warning")) {
      process_realtime_action(result);
    }
    if(action_on_bad && result == "bad") {
      process_realtime_action(result);
    }
}

setInWindow('anura_custom_gtm_callback', function(response) {
   logToConsole('Calling Check For Anura Variable');
   if (response.getId() || response.getExId()) {
      process_realtime_decision(response.getResult());
   }
   if(callback != "") {
      callInWindow('anura_gtm_additional_callback', EUC(callback), response);
   }
}, true);


if(data.hasOwnProperty("instanceID")) {
  url = url + '?instance=' + EUC(instance_id);
}
if((data.hasOwnProperty("source") && source) || (data.hasOwnProperty("sourcefb1") && sourcefb1) || (data.hasOwnProperty("sourcefb2") && sourcefb2)) {
  if(source != "" && (data.hasOwnProperty("source") && source)) {
    url = url + "&source=" + EUC(source);
  } else if(sourcefb1 != "" && (data.hasOwnProperty("sourcefb1") && sourcefb1)) {
    url = url + "&source=" + EUC(sourcefb1);
  } else if(sourcefb2 != "" && (data.hasOwnProperty("sourcefb2") && sourcefb2)) {
    url = url + "&source=" + EUC(sourcefb2);
  }
}
if((data.hasOwnProperty("campaign") && campaign) || (data.hasOwnProperty("campaignfb1") && campaignfb1) || (data.hasOwnProperty("campaignfb2") && campaignfb2)) {
  if(campaign != "" && (data.hasOwnProperty("campaign") && campaign)) {
    url = url + "&campaign=" + EUC(campaign);
  } else if(campaignfb1 != "" && (data.hasOwnProperty("campaignfb1") && campaignfb1)) {
    url = url + "&campaign=" + EUC(campaignfb1);
  } else if(campaignfb2 != "" && (data.hasOwnProperty("campaignfb2") && campaignfb2)) {
    url = url + "&campaign=" + EUC(campaignfb2);
  }
}
if(data.hasOwnProperty("callback")) {
    if(realtime_enabled) {
      url = url + "&callback=" + EUC('anura_custom_gtm_callback');
    } else {
        if(callback != "") {
          url = url + "&callback=" + EUC(callback);
        }
    }
}

if((data.hasOwnProperty("AD1") && ad1) || (data.hasOwnProperty("AD2") && ad2) || (data.hasOwnProperty("AD3") && ad3) || (data.hasOwnProperty("AD4") && ad4) || (data.hasOwnProperty("AD5") && ad5) || (data.hasOwnProperty("AD6") && ad6) || (data.hasOwnProperty("AD7") && ad7) || (data.hasOwnProperty("AD8") && ad8) || (data.hasOwnProperty("AD9") && ad9) || (data.hasOwnProperty("AD10") && ad10)) {
  url = url + "&additional={";
  if (data.hasOwnProperty("AD1") && ad1) { url = url + '"1":"'+EUC(ad1)+'",'; }
  if (data.hasOwnProperty("AD2") && ad2) { url = url + '"2":"'+EUC(ad2)+'",'; }
  if (data.hasOwnProperty("AD3") && ad3) { url = url + '"3":"'+EUC(ad3)+'",'; }
  if (data.hasOwnProperty("AD4") && ad4) { url = url + '"4":"'+EUC(ad4)+'",'; }
  if (data.hasOwnProperty("AD5") && ad5) { url = url + '"5":"'+EUC(ad5)+'",'; }
  if (data.hasOwnProperty("AD6") && ad6) { url = url + '"6":"'+EUC(ad6)+'",'; }
  if (data.hasOwnProperty("AD7") && ad7) { url = url + '"7":"'+EUC(ad7)+'",'; }
  if (data.hasOwnProperty("AD8") && ad8) { url = url + '"8":"'+EUC(ad8)+'",'; }
  if (data.hasOwnProperty("AD9") && ad9) { url = url + '"9":"'+EUC(ad9)+'",'; }
  if (data.hasOwnProperty("AD10") && ad10) { url = url + '"10":"'+EUC(ad10)+'",'; }
  url = url.slice(0,-1);
  url = url + "}";
}

//const cacheBuster = generateRandom(111111111111, 9999999999999999);
url = url + "&" + getTimestampMillis();

function onSuccess() {
  logToConsole('onSuccess');
  data.gtmOnSuccess();
}
function onFailure () {
  logToConsole('onFailure');
  data.gtmOnFailure();
}
if (queryPermission('inject_script', url) && instance_id) {
  if (rF.indexOf(eR) !== -1 || lC.indexOf(eR) !== -1) {
      data.gtmOnSuccess();
    } else {
      injectScript(url, onSuccess, onFailure);
    }
} else {
  data.gtmOnFailure();
}


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://script.anura.io/"
              },
              {
                "type": 1,
                "string": "https://www.googletagmanager.com/gtag/js?*"
              },
              {
                "type": 1,
                "string": "https://connect.facebook.net/en_US/fbevents.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_referrer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_custom_gtm_callback"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anuratag_exclusion_lists"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "dataLayer"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": false
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_googleAdsExclusionAudience"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_metaExclusionAudience"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_microsoftAdsExclusionAudience"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_XExclusionAudience"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_LinkedInExclusionAudience"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_TikTokExclusionAudience"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_disableFormAction"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_removeSubmitButtons"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_appendHiddenInput"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_result_handler"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_additional_callback"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_OutBrainExclusionAudience"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_TaboolaExclusionAudience"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "anura_gtm_disableLinks"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://www.googletagmanager.com/gtag/js?*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedKeys",
          "value": {
            "type": 1,
            "string": "specific"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_hidden_iframe",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Test 1
  code: |
    const mockData = {
      // Mocked field values
      "instance_id":"2227668113",
      "source":"mysource",
      "campaign":"mycampaign",
      "callback":"mycallbackfunction"
    };

    // Call runCode to run the template's code.
    runCode(mockData);
setup: ''


___NOTES___

Created on 5/26/2020, 8:25:37 AM


